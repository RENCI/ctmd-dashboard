# Default values for ctmd-dashboard. This is the parent chart to launch
# the full service. 
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# This will set the replicaset count more information can be found here: https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/

images:
  repository: containers.renci.org/ctmd/
  tag: "latest"

serviceAccounts:
  create: false
  annotations: {}
  
networkPolicies:
  create: false 

securityContext:
  enable: false 

frontend:
  create: true 
  name: ctmd-frontend 
  service:
    type: ClusterIP
    port: 3000
    name: http
  resources:
    requests:
      cpu: 
      memory: 
    limits:
      cpu: 
      memory:

api:
  create: true
  name: ctmd-api 
  service:
    port: 80
  resources:
    limits:
      cpu: 500m
      memory: 1024Mi
    requests:
      cpu: 200m
      memory: 300Mi
  env:
    - name: AUTH_ENV
      value: "development"
    - name: FUSE_AUTH_API_KEY
      value: ""
    - name: DASHBOARD_URL
      value: ""
    - name: REACT_APP_API_ROOT
      value: ""
    - name: NODE_ENV
      value: "development"
    - name: $API_SESSION_SECRET
      value: ""
    - name: AUTH_URL
      value: ""

postgres:
  create: true
  name: ctmd-db
  # Will use a public docker image of postgres, otherwise uses images.repository/postgres.name.
  publicRepository: true
  service:
    port: 5432
  resources:
    limits:
      cpu: 500m
      memory: 1024Mi
    requests:
      cpu: 200m
      memory: 300Mi
  env:
    - name: POSTGRES_HOST
      value:
    - name: POSTGRES_PORT
      value: 5432
    - name: POSTGRES_DB
      value: "postgres"
    - name: POSTGRES_USER 
      value: "ctmd-user"
    - name: POSTGRES_PASSWORD
      value: ""

redis:
  create: true
  name: ctmd-redis
  # Will use a public docker image of redis, otherwise uses images.repository/redis.name.
  publicRepository: true
  service:
    port: 6379
  resources:
    limits:
      cpu: 500m
      memory: 1024Mi
    requests:
      cpu: 200m
      memory: 300Mi

pipeline:
  create: true
  name: ctmd-pipeline
  service:
    port: 5000
  resources:
    limits:
      cpu: 500m
      memory: 1024Mi
    requests:
      cpu: 200m
      memory: 300Mi